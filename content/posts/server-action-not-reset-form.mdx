---
title: 如何在使用 Server Action 后不重置表单
topic: content/topics/next-js.mdx
date: 2024-11-06T16:00:00.000Z
draft: true
---

在 React 中表单如果没有设置为受控或者阻止默认行为，通常会在提交后自动重置。当你在 Next.JS 中使用 Server Action 时该行为并不会被改变，本次提交无论是否成功表单都会被重置。然而在表单提交失败后，通常我们更希望表单状态维持原状，并将错误信息展示在界面上。

接下来我想展示如何在执行 Server Action 后保持表单状态不变。

我们先从一个案例开始，用户可以使用带有 Server Action 操作的表单创建待办事项。当用户提交表单时，数据将发送到服务器：

```typescript
import { createTodo } from '../actions/create-todo';

const TodoForm = () => {
  return (
    <form>
      <label>Title: </label>
      <input id="title" name="title" type="text" />
    </form>
  );
}
```
